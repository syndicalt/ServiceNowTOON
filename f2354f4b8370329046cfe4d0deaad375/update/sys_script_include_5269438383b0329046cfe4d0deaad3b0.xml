<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_script_include">
    <sys_script_include action="INSERT_OR_UPDATE">
        <access>public</access>
        <active>true</active>
        <api_name>global.ToonTokenUtils</api_name>
        <caller_access/>
        <client_callable>false</client_callable>
        <description/>
        <mobile_callable>false</mobile_callable>
        <name>ToonTokenUtils</name>
        <sandbox_callable>false</sandbox_callable>
        <script><![CDATA[/**
 * @file ToonTokenUtils – Token validation utilities for Toon JSON parser
 * @requires ToonConstants
 */

/**
 * ToonTokenUtils
 * @global
 * @type {Object}
 */
var ToonTokenUtils = (function () {
    'use strict';

    // Pull in constants from the companion Script Include
    var C = ToonConstants;

    /**
     * Checks if a token is a boolean or null literal (`true`, `false`, `null`).
     *
     * @param {string} token - The token to test
     * @returns {boolean} true if the token is `true`, `false`, or `null`
     */
    function isBooleanOrNullLiteral(token) {
        return token === C.TRUE_LITERAL ||
               token === C.FALSE_LITERAL ||
               token === C.NULL_LITERAL;
    }

    /**
     * Checks if a token represents a valid numeric literal.
     *
     * @remarks
     * Rejects numbers with leading zeros (except `"0"` itself or decimals like `"0.5"`).
     *
     * @param {string} token - The token to test
     * @returns {boolean} true if the token is a valid finite number
     */
    function isNumericLiteral(token) {
        if (!token) {
            return false;
        }

        // Must not have leading zeros (except for "0" itself or decimals like "0.5")
        if (token.length > 1 && token[0] === '0' && token[1] !== '.') {
            return false;
        }

        // Check if it's a valid finite number
        var num = Number(token);
        return !isNaN(num) && isFinite(num);
    }


    // --------------------------------------------------------------------
    // Public API – expose all functions on the returned object
    // --------------------------------------------------------------------
    return {
        isBooleanOrNullLiteral: isBooleanOrNullLiteral,
        isNumericLiteral: isNumericLiteral
    };
})();]]></script>
        <sys_class_name>sys_script_include</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2025-10-29 22:10:23</sys_created_on>
        <sys_id>5269438383b0329046cfe4d0deaad3b0</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_name>ToonTokenUtils</sys_name>
        <sys_package display_value="ServiceNow TOON" source="f2354f4b8370329046cfe4d0deaad375">f2354f4b8370329046cfe4d0deaad375</sys_package>
        <sys_policy/>
        <sys_scope display_value="ServiceNow TOON">f2354f4b8370329046cfe4d0deaad375</sys_scope>
        <sys_update_name>sys_script_include_5269438383b0329046cfe4d0deaad3b0</sys_update_name>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2025-10-29 22:10:23</sys_updated_on>
    </sys_script_include>
    <sys_es_latest_script action="INSERT_OR_UPDATE">
        <id>5269438383b0329046cfe4d0deaad3b0</id>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2025-10-29 22:10:22</sys_created_on>
        <sys_id>8889cb4383b0329046cfe4d0deaad3f8</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2025-10-29 22:10:22</sys_updated_on>
        <table>sys_script_include</table>
        <use_es_latest>true</use_es_latest>
    </sys_es_latest_script>
</record_update>
